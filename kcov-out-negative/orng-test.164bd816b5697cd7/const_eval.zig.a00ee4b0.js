var data = {lines:[
{"lineNum":"    1","line":"//! This file represents a struct for an AST walk, and is used to decorate identifier ASTs with symbols they refer to."},
{"lineNum":"    2","line":""},
{"lineNum":"    3","line":"const std = @import(\"std\");"},
{"lineNum":"    4","line":"const ast_ = @import(\"../ast/ast.zig\");"},
{"lineNum":"    5","line":"const Compiler_Context = @import(\"../hierarchy/compiler.zig\");"},
{"lineNum":"    6","line":"const Interpreter_Context = @import(\"../interpretation/interpreter.zig\");"},
{"lineNum":"    7","line":"const defaults_ = @import(\"defaults.zig\");"},
{"lineNum":"    8","line":"const Scope = @import(\"../symbol/scope.zig\");"},
{"lineNum":"    9","line":"const Symbol = @import(\"../symbol/symbol.zig\");"},
{"lineNum":"   10","line":"const Type_AST = @import(\"../types/type.zig\").Type_AST;"},
{"lineNum":"   11","line":"const Symbol_Tree = @import(\"../ast/symbol-tree.zig\");"},
{"lineNum":"   12","line":"const walk_ = @import(\"../ast/walker.zig\");"},
{"lineNum":"   13","line":""},
{"lineNum":"   14","line":"const Self: type = @This();"},
{"lineNum":"   15","line":""},
{"lineNum":"   16","line":"ctx: *Compiler_Context,"},
{"lineNum":"   17","line":"map: std.AutoArrayHashMap(*ast_.AST, void),"},
{"lineNum":"   18","line":""},
{"lineNum":"   19","line":"pub fn new(ctx: *Compiler_Context) Self {","class":"lineCov","hits":"2","order":"2157","possible_hits":"2",},
{"lineNum":"   20","line":"    return Self{","class":"lineCov","hits":"1","order":"2159","possible_hits":"1",},
{"lineNum":"   21","line":"        .ctx = ctx,"},
{"lineNum":"   22","line":"        .map = std.AutoArrayHashMap(*ast_.AST, void).init(ctx.allocator()),","class":"lineCov","hits":"1","order":"2158","possible_hits":"1",},
{"lineNum":"   23","line":"    };"},
{"lineNum":"   24","line":"}"},
{"lineNum":"   25","line":""},
{"lineNum":"   26","line":"pub fn prefix(self: *Self, ast: *ast_.AST) walk_.Error!?Self {","class":"lineCov","hits":"2","order":"2160","possible_hits":"2",},
{"lineNum":"   27","line":"    return self.const_eval_prefix(ast);","class":"lineCov","hits":"1","order":"2161","possible_hits":"1",},
{"lineNum":"   28","line":"}"},
{"lineNum":"   29","line":""},
{"lineNum":"   30","line":"fn const_eval_prefix(self: *Self, ast: *ast_.AST) walk_.Error!?Self {","class":"lineCov","hits":"2","order":"2162","possible_hits":"2",},
{"lineNum":"   31","line":"    if (self.map.get(ast)) |_| {","class":"lineCov","hits":"1","order":"2163","possible_hits":"1",},
{"lineNum":"   32","line":"        return null;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   33","line":"    }"},
{"lineNum":"   34","line":""},
{"lineNum":"   35","line":"    try self.eval_internal(ast);","class":"lineCov","hits":"2","order":"2164","possible_hits":"2",},
{"lineNum":"   36","line":"    self.map.put(ast, void{}) catch unreachable;","class":"lineCov","hits":"2","order":"2167","possible_hits":"2",},
{"lineNum":"   37","line":""},
{"lineNum":"   38","line":"    return self.*;","class":"lineCov","hits":"1","order":"2168","possible_hits":"1",},
{"lineNum":"   39","line":"}"},
{"lineNum":"   40","line":""},
{"lineNum":"   41","line":"fn eval_internal(self: *Self, ast: *ast_.AST) walk_.Error!void {","class":"lineCov","hits":"2","order":"2165","possible_hits":"2",},
{"lineNum":"   42","line":"    switch (ast.*) {","class":"lineCov","hits":"4","order":"2166","possible_hits":"4",},
{"lineNum":"   43","line":"        else => {},"},
{"lineNum":"   44","line":""},
{"lineNum":"   45","line":"        .@\"comptime\" => {"},
{"lineNum":"   46","line":"            try self.eval_internal(ast.expr());","class":"linePartCov","hits":"1","order":"2428","possible_hits":"2",},
{"lineNum":"   47","line":"            const expected_type = self.ctx.typecheck.typecheck_AST(ast, null) catch return error.CompileError;","class":"lineCov","hits":"2","order":"2429","possible_hits":"2",},
{"lineNum":"   48","line":"            ast.* = (try self.interpret_comptime_expr(ast.expr(), expected_type, ast.scope().?)).*;","class":"lineCov","hits":"2","order":"2430","possible_hits":"2",},
{"lineNum":"   49","line":"            _ = self.ctx.typecheck.typecheck_AST(ast, expected_type) catch return error.CompileError;","class":"lineCov","hits":"1","order":"3219","possible_hits":"1",},
{"lineNum":"   50","line":"        },"},
{"lineNum":"   51","line":""},
{"lineNum":"   52","line":"        .default => {"},
{"lineNum":"   53","line":"            const _type = ast.default._type;","class":"lineCov","hits":"3","order":"4922","possible_hits":"3",},
{"lineNum":"   54","line":"            ast.* = (try defaults_.generate_default(ast.default._type, ast.token().span, &self.ctx.errors, self.ctx.allocator())).*;","class":"lineCov","hits":"2","order":"4923","possible_hits":"2",},
{"lineNum":"   55","line":"            _ = self.ctx.typecheck.typecheck_AST(ast, _type) catch return error.CompileError;","class":"lineCov","hits":"1","order":"4935","possible_hits":"1",},
{"lineNum":"   56","line":"        },"},
{"lineNum":"   57","line":""},
{"lineNum":"   58","line":"        .size_of => {"},
{"lineNum":"   59","line":"            const _type = ast.size_of._type;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"   60","line":"            ast.* = ast_.AST.create_int(ast.token(), _type.sizeof(), self.ctx.allocator()).*;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   61","line":"            _ = self.ctx.typecheck.typecheck_AST(ast, null) catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   62","line":"        },"},
{"lineNum":"   63","line":"    }"},
{"lineNum":"   64","line":"}"},
{"lineNum":"   65","line":""},
{"lineNum":"   66","line":"fn interpret_comptime_expr("},
{"lineNum":"   67","line":"    self: *Self,"},
{"lineNum":"   68","line":"    ast: *ast_.AST,"},
{"lineNum":"   69","line":"    ret_type: *Type_AST,"},
{"lineNum":"   70","line":"    scope: *Scope,"},
{"lineNum":"   71","line":") !*ast_.AST {","class":"lineCov","hits":"2","order":"2431","possible_hits":"2",},
{"lineNum":"   72","line":"    const symbol: *Symbol = (try Symbol_Tree.create_temp_comptime_symbol(","class":"lineCov","hits":"1","order":"2433","possible_hits":"1",},
{"lineNum":"   73","line":"        ast,"},
{"lineNum":"   74","line":"        ret_type,"},
{"lineNum":"   75","line":"        scope,"},
{"lineNum":"   76","line":"        self.ctx.allocator(),","class":"lineCov","hits":"1","order":"2432","possible_hits":"1",},
{"lineNum":"   77","line":"    )).assert_symbol_valid().assert_init_valid();","class":"lineCov","hits":"1","order":"2451","possible_hits":"1",},
{"lineNum":"   78","line":""},
{"lineNum":"   79","line":"    // Get the cfg from the symbol, and embed into the module"},
{"lineNum":"   80","line":"    const module = symbol.scope.module.?;","class":"lineCov","hits":"2","order":"2452","possible_hits":"2",},
{"lineNum":"   81","line":"    const intered_strings = self.ctx.lookup_interned_string_set(module.uid).?;","class":"lineCov","hits":"3","order":"2453","possible_hits":"3",},
{"lineNum":"   82","line":"    const cfg = try self.ctx.cfg_store.get_cfg(symbol, intered_strings);","class":"lineCov","hits":"2","order":"2456","possible_hits":"2",},
{"lineNum":"   83","line":"    defer cfg.deinit(); // Remove the cfg so that it isn\'t output","class":"lineCov","hits":"3","order":"3189","possible_hits":"3",},
{"lineNum":"   84","line":""},
{"lineNum":"   85","line":"    const idx = cfg.emplace_cfg(module.uid, &module.cfgs, &module.instructions);","class":"lineCov","hits":"1","order":"2984","possible_hits":"1",},
{"lineNum":"   86","line":"    defer module.pop_cfg(idx); // Remove the cfg so that it isn\'t output","class":"lineCov","hits":"3","order":"3186","possible_hits":"3",},
{"lineNum":"   87","line":""},
{"lineNum":"   88","line":"    // Create a context and interpret"},
{"lineNum":"   89","line":"    var context = Interpreter_Context.init(self.ctx);","class":"lineCov","hits":"1","order":"3045","possible_hits":"1",},
{"lineNum":"   90","line":"    context.set_entry_point(cfg, ret_type);","class":"lineCov","hits":"1","order":"3054","possible_hits":"1",},
{"lineNum":"   91","line":"    defer context.deinit();","class":"lineCov","hits":"3","order":"3181","possible_hits":"3",},
{"lineNum":"   92","line":"    context.load_module(module);","class":"lineCov","hits":"1","order":"3077","possible_hits":"1",},
{"lineNum":"   93","line":"    try context.run();","class":"lineCov","hits":"2","order":"3078","possible_hits":"2",},
{"lineNum":"   94","line":""},
{"lineNum":"   95","line":"    // Extract the retval"},
{"lineNum":"   96","line":"    return try context.extract_ast(0, ret_type, ast.token().span);","class":"lineCov","hits":"3","order":"3152","possible_hits":"3",},
{"lineNum":"   97","line":"}"},
]};
var percent_low = 25;var percent_high = 75;
var header = { "command" : "orng-test", "date" : "2025-11-10 15:43:08", "instrumented" : 39, "covered" : 35,};
var merged_data = [];
