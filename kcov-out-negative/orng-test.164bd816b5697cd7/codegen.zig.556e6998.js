var data = {lines:[
{"lineNum":"    1","line":"const std = @import(\"std\");"},
{"lineNum":"    2","line":"const core_ = @import(\"../hierarchy/core.zig\");"},
{"lineNum":"    3","line":"const Module_Iterator = @import(\"../util/dfs.zig\").Dfs_Iterator(*Module);"},
{"lineNum":"    4","line":"const Dependency_Node = @import(\"../ast/dependency_node.zig\");"},
{"lineNum":"    5","line":"const String = @import(\"../zig-string/zig-string.zig\").String;"},
{"lineNum":"    6","line":"const Compiler_Context = @import(\"../hierarchy/compiler.zig\");"},
{"lineNum":"    7","line":"const Interned_String_Set = @import(\"../ir/interned_string_set.zig\");"},
{"lineNum":"    8","line":"const Module = @import(\"../hierarchy/module.zig\").Module;"},
{"lineNum":"    9","line":"const Header_Emitter = @import(\"header_emitter.zig\");"},
{"lineNum":"   10","line":"const Source_Emitter = @import(\"source_emitter.zig\");"},
{"lineNum":"   11","line":"const Emitter = @import(\"emitter.zig\");"},
{"lineNum":"   12","line":"const Test_Emitter = @import(\"test_emitter.zig\");"},
{"lineNum":"   13","line":"const Typedef_Emitter = @import(\"typedef_emitter.zig\");"},
{"lineNum":"   14","line":"const Type_Set = @import(\"../ast/type-set.zig\");"},
{"lineNum":"   15","line":"const Canonical_Type_Fmt = @import(\"../types/canonical_type_fmt.zig\");"},
{"lineNum":"   16","line":""},
{"lineNum":"   17","line":"/// Goes through each package and outputs a C/H file header pair for each module in each package."},
{"lineNum":"   18","line":"///"},
{"lineNum":"   19","line":"/// Does not output packages that are not modified."},
{"lineNum":"   20","line":"pub fn output_modules(compiler: *Compiler_Context) !void {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   21","line":"    // Start from root module, of each package, DFS through imports and generate"},
{"lineNum":"   22","line":"    for (compiler.packages.keys()) |package_name| {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"   23","line":"        const package = compiler.lookup_package(package_name).?;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"   24","line":"        const package_root_module = package.root.init_value().?.module.module;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"   25","line":""},
{"lineNum":"   26","line":"        if (!package.modified.?) {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   27","line":"            continue;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   28","line":"        }"},
{"lineNum":"   29","line":""},
{"lineNum":"   30","line":"        const build_path = package.get_build_path(compiler.allocator());","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   31","line":"        _ = std.fs.openDirAbsolute(build_path, .{}) catch {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   32","line":"            std.fs.makeDirAbsolute(build_path) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   33","line":"        };"},
{"lineNum":"   34","line":""},
{"lineNum":"   35","line":"        const types_path = package.get_types_path(compiler.allocator());","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   36","line":"        _ = std.fs.openDirAbsolute(types_path, .{}) catch {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   37","line":"            std.fs.makeDirAbsolute(types_path) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   38","line":"        };"},
{"lineNum":"   39","line":""},
{"lineNum":"   40","line":"        try output_types(&package.type_set, types_path, compiler.allocator());","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   41","line":""},
{"lineNum":"   42","line":"        var modules = std.array_list.Managed(*Module).init(compiler.allocator());","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   43","line":"        defer modules.deinit();","class":"lineNoCov","hits":"0","possible_hits":"5",},
{"lineNum":"   44","line":"        var dfs_iter: Module_Iterator = Module_Iterator.init(package_root_module, compiler.allocator());","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   45","line":"        defer dfs_iter.deinit();","class":"lineNoCov","hits":"0","possible_hits":"5",},
{"lineNum":"   46","line":"        while (dfs_iter.next()) |module| {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   47","line":"            if (std.mem.eql(u8, module.get_package_abs_path(), package.absolute_path)) {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   48","line":"                try output_module(module, &compiler.module_interned_strings, build_path, compiler.allocator());","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   49","line":"                modules.append(module) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   50","line":""},
{"lineNum":"   51","line":"                if (package.kind == .test_executable) {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   52","line":"                    try output_tests(module, &compiler.module_interned_strings, build_path, compiler.allocator());","class":"lineNoCov","hits":"0","possible_hits":"5",},
{"lineNum":"   53","line":"                }"},
{"lineNum":"   54","line":"            }"},
{"lineNum":"   55","line":"        }","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"   56","line":""},
{"lineNum":"   57","line":"        switch (package.kind) {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"   58","line":"            .test_executable => try output_testrunner(modules, build_path, compiler.allocator()),","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   59","line":"            .executable => try output_start(package_root_module, &compiler.module_interned_strings, build_path, compiler.allocator()),","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   60","line":"            else => {},"},
{"lineNum":"   61","line":"        }"},
{"lineNum":"   62","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"   63","line":"}"},
{"lineNum":"   64","line":""},
{"lineNum":"   65","line":"/// Takes in a statically correct module, writes it out to C source and header files"},
{"lineNum":"   66","line":"fn output_module("},
{"lineNum":"   67","line":"    module: *Module,"},
{"lineNum":"   68","line":"    module_interned_strings: *const std.AutoArrayHashMap(u32, *Interned_String_Set),"},
{"lineNum":"   69","line":"    build_path: []const u8,"},
{"lineNum":"   70","line":"    allocator: std.mem.Allocator,"},
{"lineNum":"   71","line":") !void {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   72","line":"    var output_h_file = try open_file(module.package_name, module.name(), \".h\", build_path, allocator);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   73","line":"    defer output_h_file.close();","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"   74","line":"    var h_buffer = std.array_list.Managed(u8).init(allocator);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   75","line":"    defer h_buffer.deinit();","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"   76","line":"    var header_emitter = Header_Emitter.init(module, &h_buffer);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   77","line":"    header_emitter.generate() catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"   78","line":""},
{"lineNum":"   79","line":"    var output_c_file = try open_file(module.package_name, module.name(), \".c\", build_path, allocator);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   80","line":"    defer output_c_file.close();","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   81","line":"    var c_buffer = std.array_list.Managed(u8).init(allocator);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   82","line":"    defer c_buffer.deinit();","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   83","line":"    var source_emitter = Source_Emitter.init(module, module_interned_strings, &c_buffer);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   84","line":"    source_emitter.generate() catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"   85","line":""},
{"lineNum":"   86","line":"    output_c_file.writeAll(c_buffer.items) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   87","line":"    output_h_file.writeAll(h_buffer.items) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   88","line":"}"},
{"lineNum":"   89","line":""},
{"lineNum":"   90","line":"fn output_types("},
{"lineNum":"   91","line":"    type_set: *const Type_Set,"},
{"lineNum":"   92","line":"    types_path: []const u8,"},
{"lineNum":"   93","line":"    allocator: std.mem.Allocator,"},
{"lineNum":"   94","line":") !void {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   95","line":"    // Output all typedefs"},
{"lineNum":"   96","line":"    for (type_set.types.items) |dag| {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"   97","line":"        try output_type(dag, types_path, allocator);","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   98","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"   99","line":"}"},
{"lineNum":"  100","line":""},
{"lineNum":"  101","line":"fn output_type("},
{"lineNum":"  102","line":"    dep: *Dependency_Node,"},
{"lineNum":"  103","line":"    types_path: []const u8,"},
{"lineNum":"  104","line":"    allocator: std.mem.Allocator,"},
{"lineNum":"  105","line":") !void {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  106","line":"    if (dep.visited) {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  107","line":"        // only visit a DAG node once"},
{"lineNum":"  108","line":"        return;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  109","line":"    }"},
{"lineNum":"  110","line":"    dep.mark_visited();","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  111","line":""},
{"lineNum":"  112","line":"    // output any types that this type depends on"},
{"lineNum":"  113","line":"    for (dep.dependencies.items) |depen| {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  114","line":"        try output_type(depen, types_path, allocator);","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  115","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  116","line":""},
{"lineNum":"  117","line":"    if (dep.base.sizeof() == 0) {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  118","line":"        // Don\'t output zero-sized types"},
{"lineNum":"  119","line":"        return;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  120","line":"    }"},
{"lineNum":"  121","line":""},
{"lineNum":"  122","line":"    var output_filename = std.array_list.Managed(u8).init(allocator);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  123","line":"    defer output_filename.deinit();","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  124","line":"    output_filename.print(\"{f}.h\", .{Canonical_Type_Fmt{ .type = dep.base }}) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  125","line":""},
{"lineNum":"  126","line":"    const out_paths = [_][]const u8{ types_path, output_filename.items };","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  127","line":"    const out_path = std.fs.path.join(allocator, &out_paths) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  128","line":""},
{"lineNum":"  129","line":"    const output_type_h_file = std.fs.createFileAbsolute(out_path, .{}) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  130","line":"    var type_h_buffer = std.array_list.Managed(u8).init(allocator);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  131","line":"    defer type_h_buffer.deinit();","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  132","line":""},
{"lineNum":"  133","line":"    var test_emitter = Typedef_Emitter.init(dep, &type_h_buffer);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  134","line":"    test_emitter.generate() catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  135","line":""},
{"lineNum":"  136","line":"    output_type_h_file.writeAll(type_h_buffer.items) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  137","line":"}"},
{"lineNum":"  138","line":""},
{"lineNum":"  139","line":"/// Takes in a statically correct module, writes the tests out to C source and header files"},
{"lineNum":"  140","line":"fn output_tests("},
{"lineNum":"  141","line":"    module: *Module,"},
{"lineNum":"  142","line":"    module_interned_strings: *const std.AutoArrayHashMap(u32, *Interned_String_Set),"},
{"lineNum":"  143","line":"    build_path: []const u8,"},
{"lineNum":"  144","line":"    allocator: std.mem.Allocator,"},
{"lineNum":"  145","line":") !void {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  146","line":"    var output_h_file = try open_file(module.package_name, module.name(), \"-tests.h\", build_path, allocator);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  147","line":"    defer output_h_file.close();","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  148","line":"    var h_buffer = std.array_list.Managed(u8).init(allocator);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  149","line":"    defer h_buffer.deinit();","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  150","line":""},
{"lineNum":"  151","line":"    var output_c_file = try open_file(module.package_name, module.name(), \"-tests.c\", build_path, allocator);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  152","line":"    defer output_c_file.close();","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  153","line":"    var c_buffer = std.array_list.Managed(u8).init(allocator);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  154","line":"    defer c_buffer.deinit();","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  155","line":""},
{"lineNum":"  156","line":"    var test_emitter = Test_Emitter.init(module, module_interned_strings, &c_buffer, &h_buffer);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  157","line":"    test_emitter.generate() catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  158","line":""},
{"lineNum":"  159","line":"    output_c_file.writeAll(c_buffer.items) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  160","line":"    output_h_file.writeAll(h_buffer.items) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  161","line":"}"},
{"lineNum":"  162","line":""},
{"lineNum":"  163","line":"fn output_start("},
{"lineNum":"  164","line":"    module: *Module,"},
{"lineNum":"  165","line":"    module_interned_strings: *const std.AutoArrayHashMap(u32, *Interned_String_Set),"},
{"lineNum":"  166","line":"    build_path: []const u8,"},
{"lineNum":"  167","line":"    allocator: std.mem.Allocator,"},
{"lineNum":"  168","line":") !void {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  169","line":"    const paths = [_][]const u8{ build_path, \"start.c\" };","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  170","line":"    const path = std.fs.path.join(allocator, &paths) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  171","line":""},
{"lineNum":"  172","line":"    var start_file = std.fs.createFileAbsolute(path, .{}) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  173","line":"    defer start_file.close();","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"  174","line":""},
{"lineNum":"  175","line":"    var buf = std.array_list.Managed(u8).init(allocator);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  176","line":"    defer buf.deinit();","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"  177","line":""},
{"lineNum":"  178","line":"    var source_emitter = Source_Emitter.init(","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  179","line":"        module,"},
{"lineNum":"  180","line":"        module_interned_strings,"},
{"lineNum":"  181","line":"        &buf,"},
{"lineNum":"  182","line":"    );"},
{"lineNum":"  183","line":"    source_emitter.output_header_include() catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  184","line":"    buf.print(\"#include <stdio.h>\\n\\n\", .{}) catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  185","line":"    source_emitter.output_main_function() catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  186","line":""},
{"lineNum":"  187","line":"    start_file.writeAll(buf.items) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  188","line":"}"},
{"lineNum":"  189","line":""},
{"lineNum":"  190","line":"fn output_testrunner("},
{"lineNum":"  191","line":"    modules: std.array_list.Managed(*Module),"},
{"lineNum":"  192","line":"    build_path: []const u8,"},
{"lineNum":"  193","line":"    allocator: std.mem.Allocator,"},
{"lineNum":"  194","line":") !void {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  195","line":"    const paths = [_][]const u8{ build_path, \"test-runner.c\" };","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  196","line":"    const path = std.fs.path.join(allocator, &paths) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  197","line":""},
{"lineNum":"  198","line":"    var testrunner_file = std.fs.createFileAbsolute(path, .{}) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  199","line":"    defer testrunner_file.close();","class":"lineNoCov","hits":"0","possible_hits":"15",},
{"lineNum":"  200","line":""},
{"lineNum":"  201","line":"    var buf = std.array_list.Managed(u8).init(allocator);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  202","line":"    defer buf.deinit();","class":"lineNoCov","hits":"0","possible_hits":"15",},
{"lineNum":"  203","line":""},
{"lineNum":"  204","line":"    buf.print(","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  205","line":"        \\\\/* Code generated using the Orange compiler http://ornglang.org */"},
{"lineNum":"  206","line":"        \\\\"},
{"lineNum":"  207","line":"        \\\\#include <stdio.h>"},
{"lineNum":"  208","line":"        \\\\#include <stdlib.h>"},
{"lineNum":"  209","line":"        \\\\#include <string.h>"},
{"lineNum":"  210","line":"        \\\\"},
{"lineNum":"  211","line":"        \\\\"},
{"lineNum":"  212","line":"    , .{}) catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  213","line":""},
{"lineNum":"  214","line":"    for (modules.items) |module| {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  215","line":"        buf.print(\"#include \\\"{s}-{s}-tests.h\\\"\\n\", .{ module.package_name, module.name() }) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  216","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  217","line":""},
{"lineNum":"  218","line":"    var any_require_context = false;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  219","line":"    for (modules.items) |module| {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  220","line":"        for (module.tests.items) |@\"test\"| {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  221","line":"            any_require_context = @\"test\".symbol.type().function.contexts.items.len > 0 or any_require_context;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  222","line":"        }","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  223","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  224","line":""},
{"lineNum":"  225","line":"    buf.print(","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  226","line":"        \\\\"},
{"lineNum":"  227","line":"        \\\\typedef"},
{"lineNum":"  228","line":"    , .{}) catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  229","line":"    var mod_0_emitter = Emitter.init(&buf);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  230","line":"    mod_0_emitter.output_type(core_.test_result_type) catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  231","line":"    buf.print(","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  232","line":"        \\\\ test_result;"},
{"lineNum":"  233","line":"        \\\\"},
{"lineNum":"  234","line":"    , .{}) catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  235","line":""},
{"lineNum":"  236","line":"    buf.print(","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  237","line":"        \\\\"},
{"lineNum":"  238","line":"        \\\\int main(int argc, char *argv[])"},
{"lineNum":"  239","line":"        \\\\{{"},
{"lineNum":"  240","line":"        \\\\    const char *substr = NULL;"},
{"lineNum":"  241","line":"        \\\\    const char *prev_filename = NULL;"},
{"lineNum":"  242","line":"        \\\\    test_result res;"},
{"lineNum":"  243","line":"        \\\\    int failed_tests = 0;"},
{"lineNum":"  244","line":"        \\\\"},
{"lineNum":"  245","line":"    , .{}) catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  246","line":"    if (any_require_context) {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  247","line":"        mod_0_emitter.output_type(core_.allocating_context) catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  248","line":"        buf.print(","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  249","line":"            \\\\ allocator_context = {{._0 = {{.data_ptr = (void*)0xAAAAAAAA, .vtable = &std__mem_2__vtable}}}};"},
{"lineNum":"  250","line":"            \\\\"},
{"lineNum":"  251","line":"        , .{}) catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  252","line":"    }"},
{"lineNum":"  253","line":"    buf.print(","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  254","line":"        \\\\    if (argc >= 2)"},
{"lineNum":"  255","line":"        \\\\    {{"},
{"lineNum":"  256","line":"        \\\\        substr = argv[1];"},
{"lineNum":"  257","line":"        \\\\    }}"},
{"lineNum":"  258","line":"        \\\\"},
{"lineNum":"  259","line":"        \\\\    printf(\"[============]\\n\");"},
{"lineNum":"  260","line":"        \\\\"},
{"lineNum":"  261","line":"    , .{}) catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  262","line":""},
{"lineNum":"  263","line":"    for (modules.items) |module| {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  264","line":"        var emitter = Emitter.init(&buf);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  265","line":"        for (module.tests.items) |@\"test\"| {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  266","line":"            const test_filename = @\"test\".symbol.scope.module.?.name();","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  267","line":"            const test_name = @\"test\".symbol.decl.?.@\"test\".name.?.string.data;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  268","line":"            const requires_context = @\"test\".symbol.type().function.contexts.items.len > 0;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  269","line":""},
{"lineNum":"  270","line":"            buf.print(","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  271","line":"                \\\\    if (substr == NULL || strstr(\"{1s}\", substr))"},
{"lineNum":"  272","line":"                \\\\    {{"},
{"lineNum":"  273","line":"                \\\\        if (prev_filename == NULL)"},
{"lineNum":"  274","line":"                \\\\        {{"},
{"lineNum":"  275","line":"                \\\\            prev_filename = \"{0s}\";"},
{"lineNum":"  276","line":"                \\\\        }}"},
{"lineNum":"  277","line":"                \\\\        else if (strcmp(prev_filename, \"{0s}\"))"},
{"lineNum":"  278","line":"                \\\\        {{"},
{"lineNum":"  279","line":"                \\\\            prev_filename = \"{0s}\";"},
{"lineNum":"  280","line":"                \\\\            printf(\"[------------]\\n\");"},
{"lineNum":"  281","line":"                \\\\        }}"},
{"lineNum":"  282","line":"                \\\\        printf(\"[ RUN        ] %s.orng: %s\\n\", \"{0s}\", \"{1s}\");"},
{"lineNum":"  283","line":"                \\\\        res ="},
{"lineNum":"  284","line":"            , .{ test_filename, test_name }) catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  285","line":"            emitter.output_symbol(@\"test\".symbol) catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  286","line":"            if (requires_context) {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  287","line":"                buf.print(","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  288","line":"                    \\\\(&allocator_context);"},
{"lineNum":"  289","line":"                    \\\\"},
{"lineNum":"  290","line":"                , .{}) catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  291","line":"            } else {"},
{"lineNum":"  292","line":"                buf.print(","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  293","line":"                    \\\\();"},
{"lineNum":"  294","line":"                    \\\\"},
{"lineNum":"  295","line":"                , .{}) catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  296","line":"            }"},
{"lineNum":"  297","line":"            buf.print(","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  298","line":"                \\\\        if (res.tag == 0)"},
{"lineNum":"  299","line":"                \\\\        {{"},
{"lineNum":"  300","line":"                \\\\            printf(\"[         OK ]\\n\");"},
{"lineNum":"  301","line":"                \\\\        }}"},
{"lineNum":"  302","line":"                \\\\        else"},
{"lineNum":"  303","line":"                \\\\        {{"},
{"lineNum":"  304","line":"                \\\\            printf(\"[     FAILED ]\\n\");"},
{"lineNum":"  305","line":"                \\\\            failed_tests += 1;"},
{"lineNum":"  306","line":"                \\\\        }}"},
{"lineNum":"  307","line":"                \\\\    }}"},
{"lineNum":"  308","line":"                \\\\"},
{"lineNum":"  309","line":"            , .{}) catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  310","line":"        }","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  311","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  312","line":"    buf.print(","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  313","line":"        \\\\    printf(\"[============]\\n\");"},
{"lineNum":"  314","line":"        \\\\    return failed_tests;"},
{"lineNum":"  315","line":"        \\\\}}"},
{"lineNum":"  316","line":"        \\\\"},
{"lineNum":"  317","line":"    , .{}) catch return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  318","line":""},
{"lineNum":"  319","line":"    testrunner_file.writeAll(buf.items) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  320","line":"}"},
{"lineNum":"  321","line":""},
{"lineNum":"  322","line":"fn open_file(package_name: []const u8, module_name: []const u8, ext: []const u8, build_path: []const u8, allocator: std.mem.Allocator) !std.fs.File {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  323","line":"    var output_filename = std.array_list.Managed(u8).init(allocator);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  324","line":"    defer output_filename.deinit();","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  325","line":"    output_filename.print(\"{s}-{s}{s}\", .{ package_name, module_name, ext }) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  326","line":""},
{"lineNum":"  327","line":"    const out_paths = [_][]const u8{ build_path, output_filename.items };","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  328","line":"    const out_path = std.fs.path.join(allocator, &out_paths) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  329","line":""},
{"lineNum":"  330","line":"    const output_file = std.fs.createFileAbsolute(out_path, .{}) catch unreachable;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  331","line":"    return output_file;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  332","line":"}"},
]};
var percent_low = 25;var percent_high = 75;
var header = { "command" : "orng-test", "date" : "2025-11-10 15:43:08", "instrumented" : 153, "covered" : 0,};
var merged_data = [];
