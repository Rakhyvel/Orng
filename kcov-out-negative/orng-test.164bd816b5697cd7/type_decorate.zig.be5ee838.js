var data = {lines:[
{"lineNum":"    1","line":"//! This file represents a struct for an AST walk, and is used to decorate ASTs with their types."},
{"lineNum":"    2","line":""},
{"lineNum":"    3","line":"const std = @import(\"std\");"},
{"lineNum":"    4","line":"const errs_ = @import(\"../util/errors.zig\");"},
{"lineNum":"    5","line":"const Compiler_Context = @import(\"../hierarchy/compiler.zig\");"},
{"lineNum":"    6","line":"const Type_AST = @import(\"../types/type.zig\").Type_AST;"},
{"lineNum":"    7","line":"const walk_ = @import(\"../ast/walker.zig\");"},
{"lineNum":"    8","line":""},
{"lineNum":"    9","line":"ctx: *Compiler_Context,"},
{"lineNum":"   10","line":""},
{"lineNum":"   11","line":"const Self = @This();"},
{"lineNum":"   12","line":""},
{"lineNum":"   13","line":"pub fn new(ctx: *Compiler_Context) Self {","class":"lineCov","hits":"2","order":"525","possible_hits":"2",},
{"lineNum":"   14","line":"    return Self{ .ctx = ctx };","class":"lineCov","hits":"1","order":"526","possible_hits":"1",},
{"lineNum":"   15","line":"}"},
{"lineNum":"   16","line":""},
{"lineNum":"   17","line":"pub fn postfix_type(self: Self, _type: *Type_AST) walk_.Error!void {","class":"lineCov","hits":"2","order":"2012","possible_hits":"2",},
{"lineNum":"   18","line":"    const depth_limit: usize = 100;","class":"lineCov","hits":"1","order":"2013","possible_hits":"1",},
{"lineNum":"   19","line":"    var depth: usize = 0;","class":"lineCov","hits":"1","order":"2014","possible_hits":"1",},
{"lineNum":"   20","line":"    while (_type.* == .type_of or _type.* == .domain_of or _type.* == .index) {","class":"lineCov","hits":"2","order":"2015","possible_hits":"2",},
{"lineNum":"   21","line":"        if (depth > depth_limit) {","class":"lineCov","hits":"1","order":"2018","possible_hits":"1",},
{"lineNum":"   22","line":"            self.ctx.errors.add_error(errs_.Error{ .basic = .{ .msg = \"recursive type detected\", .span = _type.token().span } });","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   23","line":"            return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   24","line":"        }"},
{"lineNum":"   25","line":"        switch (_type.*) {","class":"linePartCov","hits":"1","order":"2019","possible_hits":"3",},
{"lineNum":"   26","line":"            .type_of => {"},
{"lineNum":"   27","line":"                const typeof_expr = self.ctx.typecheck.typecheck_AST(_type.type_of._expr, null) catch |e| switch (e) {","class":"linePartCov","hits":"3","order":"2020","possible_hits":"4",},
{"lineNum":"   28","line":"                    error.UnexpectedTypeType => {"},
{"lineNum":"   29","line":"                        self.ctx.errors.add_error(errs_.Error{ .unexpected_type_type = .{ .expected = null, .span = _type.type_of._expr.token().span } });","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"   30","line":"                        return error.CompileError;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   31","line":"                    },"},
{"lineNum":"   32","line":"                    error.CompileError => return error.CompileError,","class":"lineCov","hits":"1","order":"4849","possible_hits":"1",},
{"lineNum":"   33","line":"                    error.OutOfMemory => return error.OutOfMemory,","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   34","line":"                };"},
{"lineNum":"   35","line":"                _type.* = typeof_expr.*;","class":"lineCov","hits":"1","order":"2047","possible_hits":"1",},
{"lineNum":"   36","line":"            },"},
{"lineNum":"   37","line":"            .domain_of => {"},
{"lineNum":"   38","line":"                var child = _type.domain_of._child;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"   39","line":"                try self.postfix_type(child);","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   40","line":"                const domain_ptr = child.expand_identifier().enum_type.get_ctor(_type.domain_of.ctor_name) orelse std.debug.panic(\"{s} not in {f}\\n\", .{ _type.domain_of.ctor_name, child });","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   41","line":"                _type.* = domain_ptr.*;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   42","line":"            },"},
{"lineNum":"   43","line":"            .index => {"},
{"lineNum":"   44","line":"                var child = _type.child();","class":"lineCov","hits":"1","order":"6139","possible_hits":"1",},
{"lineNum":"   45","line":"                try self.postfix_type(child);","class":"linePartCov","hits":"1","order":"6140","possible_hits":"2",},
{"lineNum":"   46","line":"                child = child.expand_identifier();","class":"lineCov","hits":"1","order":"6141","possible_hits":"1",},
{"lineNum":"   47","line":"                if (child.* == .array_of) {","class":"lineCov","hits":"1","order":"6142","possible_hits":"1",},
{"lineNum":"   48","line":"                    _type.* = child.child().*;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   49","line":"                } else if (child.* == .tuple_type) {","class":"lineCov","hits":"1","order":"6143","possible_hits":"1",},
{"lineNum":"   50","line":"                    if (_type.index.idx.int.data >= child.children().items.len) {","class":"lineCov","hits":"2","order":"6144","possible_hits":"2",},
{"lineNum":"   51","line":"                        break;","class":"lineCov","hits":"2","order":"6145","possible_hits":"2",},
{"lineNum":"   52","line":"                    }"},
{"lineNum":"   53","line":"                    _type.* = child.children().items[@intCast(_type.index.idx.int.data)].*;","class":"lineCov","hits":"2","order":"6146","possible_hits":"2",},
{"lineNum":"   54","line":"                } else {"},
{"lineNum":"   55","line":"                    _type.* = Type_AST.create_poisoned_type(_type.token(), self.ctx.allocator()).*;","class":"lineCov","hits":"3","order":"6147","possible_hits":"3",},
{"lineNum":"   56","line":"                }"},
{"lineNum":"   57","line":"            },"},
{"lineNum":"   58","line":"            else => unreachable,","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   59","line":"        }"},
{"lineNum":"   60","line":"        depth += 1;","class":"linePartCov","hits":"1","order":"2048","possible_hits":"2",},
{"lineNum":"   61","line":"    }","class":"lineCov","hits":"4","order":"2016","possible_hits":"4",},
{"lineNum":"   62","line":"}"},
]};
var percent_low = 25;var percent_high = 75;
var header = { "command" : "orng-test", "date" : "2025-11-10 15:43:08", "instrumented" : 33, "covered" : 22,};
var merged_data = [];
